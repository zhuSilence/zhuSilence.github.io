<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
<script src="/js/md5.min.js"></script>
<section class="post-comments">

  {% if site.comment.disqus %}
    <div id="disqus_thread"></div>
    <script>
    
    var disqus_config = function () {
        this.page.url = "{{ page.url | prepend: site.baseurl | prepend: site.url }}";
        this.page.identifier = "{{ page.url }}";
    };

    var disqus_shortname = '{{ site.comment.disqus }}';
    
    (function() { // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        s.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>要查看<a href="http://disqus.com/?ref_noscript"> Disqus </a>评论，请启用 JavaScript</noscript>
    
  {% elsif site.comment.duoshuo %}
    <div class="ds-thread" data-thread-key="{{ page.url }}" data-title="{{ page.title }}" data-url="{{ page.url | prepend: site.baseurl | prepend: site.url }}"></div>

    <script type="text/javascript">
        var duoshuoQuery = {short_name:"{{ site.comment.duoshuo }}"};
        (function() {
            var ds = document.createElement('script');
            ds.type = 'text/javascript';ds.async = true;
            ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
            ds.charset = 'UTF-8';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
        })();
    </script>

  {% elsif site.comment.gittalk %}
  <div class="ds-thread" data-thread-key="{{ page.url }}" data-title="{{ page.title }}" data-url="{{ page.url | prepend: site.baseurl | prepend: site.url }}"></div>

  <div id="gitalk-container"></div>
  <script type="text/javascript">
      // var duoshuoQuery = {short_name:"{{ site.comment.gittalk }}"};
      (function() {
          // var ds = document.createElement('script');
          // ds.type = 'text/javascript';ds.async = true;
          // ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
          // ds.charset = 'UTF-8';
          // (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);

          // var gitalk = new Gitalk({
          //     clientID: 'Github Application Client ID',
          //     clientSecret: 'Github Application Client Secret',
          //     repo: 'Github repo',
          //     owner: 'Github repo owner',
          //     admin: ['Github repo owner and collaborators, only these guys can initialize github issues'],
          //     id: location.pathname,      // Ensure uniqueness and length less than 50
          //     distractionFreeMode: false  // Facebook-like distraction free mode
          // })
          var gitalk = new Gitalk({
              clientID: '38c117eb23a145cd8f77',
              clientSecret: '36095ad5bcb3c397a113675bc30f27a483902ffb',
              repo: 'gittalk-repo',
              owner: 'zhuSilence',
              admin: ['zhuSilence'],
              id: md5(window.location.pathname),
              distractionFreeMode: true,  // Facebook-like distraction free mode

          });

          gitalk.render('gitalk-container')


      })();
  </script>
  {% endif %}
  
  
  
</section>
