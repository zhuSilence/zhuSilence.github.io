---
layout: post
title: Linux的rm -rf
date: 2017-02-19
tag: Linux
---
### 集群惨剧
上周也就是年后上班的第一周，整个人都是恍恍惚惚的不在状态，加上老大还没来上班整个人就更懒散了。如果人处在这个状态，那是很危险的，如果还在上班。。那就更危险了。

是的，上周的我是很危险的，原本跑的好好的Kafka和Zookeeper集群，被我删了个文件夹，然后就没有然后了。不要问我为什么要删除那个文件夹，因为我也不知道（至少我自己是这样认为的）。。。还好是测试环境的服务器。在QQ上把情况告诉了老大，老大估计在家玩嗨了并没有理我，
转战找运维老大，运维老大还在高速上。。。这边测试人员已经在追问我数据为什么不对了。。。此时我的心情很复杂，恩，真的很复杂

这个时候需要静下心来，不能自己乱了阵脚，其实仔细想想问题也不是很大，因为首先这是测试环境，并不会影响正式，其次刚开始上班使用这个环境的人并不多，另外最多也就是把集群重新搭建下而已。怀着这样的心情就准备自己搞起，然而苦逼的是自己没有这集群服务器的账号。。。这个时候不得不求人了（这是最尴尬的部分）
运维有个同事有集群的账号，原本以及他只要轻松的敲几行命令就可以挽救，但是不知道为什么，，集群总是起不来，每次重启成功一段时间后又自动down掉某个节点（这就让我不太淡定了）。更尴尬的事他好像也不怎么上心，只顾着跟他老婆（应该是的）视频，打电话，聊天。。。😑，此时我的内心是崩溃的o(≧口≦)o

好在第二天搞好了，集群也正常了，数据虽然没有恢复，但是也没关系。就这样在老大来之前恢复了测试环境（没有被老大骂😀）。

>总结一点：
    千万不要随便删服务器上面的东西(*@ο@*) 哇～

---------------------------------------------------------

##### 纠正一下上面的总结
>    千万不要随便删服务器上面的东西(*@ο@*) 哇～
     千万不要随便删东西(*@ο@*) 哇～ （不只服务器）

### rm -rf 惨剧
咳咳，在不小心删完服务器上面的文件的后，是的，应该猜到了，我又删了一些文件。。。这次删掉的倒不是公司服务器上面的文件，删的是我虚拟机里面的Linux里面的文件，虽然说是虚拟机但是里面的文件也是非常重要的，因为工作需要在Linux环境中运行脚本，为了方便就在自己的电脑上装了虚拟机。被删掉的文件是用来进行视频转码的，这些文件是放在根目录下面，原本想进入某个目录进行rm -rf，结果一不小心在根目录下执行了rm -rf。。。
在执行完这条命令的时候，整个人都不好了，瞬间心都凉了，要知道要是这个文件被删掉了，那就不是重写编写这么简单的事了，视频转码的工作立马就停滞了，这就尴尬了。。。估计真要被老大骂了。幸运的事还好有备份文件，因为公司有写WIKI的要求，刚好前一天写了一份WIKI把脚本上传了上去，想到这个心终于放下了。
>总结两点
    千万不要随便用rm -rf。。。最起码不要随便带-rf参数，尽量用rm就好